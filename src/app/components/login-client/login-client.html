<main class="min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md mx-auto w-full">

    <!-- Logo Amazon -->
    <div class="text-center mb-8">
      <a routerLink="/" class="inline-flex items-center gap-3">
        <div class="w-12 h-12 bg-linear-to-br from-[#1D7874] to-[#1D7874] rounded-xl flex items-center justify-center shadow-lg">
           <svg width="30px" height="30px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 1L0 4V5C0 5 2 6 4 6C6 6 8 5 8 5C8 5 10 6 12 6C14 6 16 5 16 5V4L13 1H3Z" fill="#FFFFFF"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M1 15V7.5187C1.81671 7.76457 2.88168 8 4 8C5.3025 8 6.53263 7.68064 7.38246 7.39737C7.60924 7.32177 7.81664 7.24612 8 7.17526C8.18337 7.24612 8.39076 7.32177 8.61754 7.39737C9.46737 7.68064 10.6975 8 12 8C13.1183 8 14.1833 7.76457 15 7.5187V15H7V10H4V15H1ZM12 10H10V13H12V10Z" fill="#FFFFFF"/>
          </svg>
        </div>
        <div>
          <h1 class="text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-gray-700 bg-clip-text text-transparent tracking-tight">
            Cr√©er un compte
          </h1>
          <p class="text-sm text-gray-600 mt-1">Rejoignez SmartShop d√®s aujourd'hui</p>
        </div>
      </a>
    </div>

    <!-- Card principale Amazon-style -->
    <div class="bg-white shadow-xl rounded-2xl border border-gray-200 p-8 sm:p-10">

      <!-- Titre -->
      <h2 class="text-2xl font-bold text-gray-900 mb-8 text-center">
        Inscription rapide
      </h2>
      <div class="bg-orange-50 border border-orange-200 rounded-lg p-4 mb-8">
        <div class="flex items-start">
          <div class="w-5 h-5 bg-orange-400 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5 mr-3">
            <i class="fas fa-shield-alt text-white text-xs"></i>
          </div>
          <div>
            <p class="text-sm font-medium text-orange-800">
              Vos informations sont <strong>chiffr√©es</strong> et s√©curis√©es
            </p>
          </div>
        </div>
      </div>

      <form (ngSubmit)="onInsertUser()" class="space-y-6">

        <!-- Nom complet -->
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
            Nom complet
          </label>
          <input
            type="text"
            id="name"
            name="name"
            [(ngModel)]="newUser.name"
            required
            placeholder="John Doe"
            [disabled]="loading"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1D7874] focus:border-[#1D7874] transition-all duration-200 text-base placeholder-gray-400"
          />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
            Adresse e-mail
          </label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="newUser.email"
            required
            placeholder="name@example.com"
            [disabled]="loading"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1D7874] focus:border-[#1D7874] transition-all duration-200 text-base placeholder-gray-400"
          />
        </div>

        <!-- Mot de passe -->
        <div>
          <label for="password" class="block text-sm font-medium text-gray-700 mb-2">
            Mot de passe
          </label>
          <div class="relative">
            <input
              type="password"
              id="password"
              name="password"
              [(ngModel)]="newUser.password"
              required
              placeholder="Au moins 8 caract√®res"
              [disabled]="loading"
              class="w-full pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1D7874] focus:border-[#1D7874] transition-all duration-200 text-base placeholder-gray-400"
            />
            <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
              <i class="fas fa-eye-slash text-sm"></i>
            </button>
          </div>
        </div>

        <!-- Confirmation mot de passe -->
        <div>
          <label for="passwordConfirm" class="block text-sm font-medium text-gray-700 mb-2">
            Confirmer le mot de passe
          </label>
          <div class="relative">
            <input
              type="password"
              id="passwordConfirm"
              name="passwordConfirm"
              [(ngModel)]="passconfirm"
              required
              placeholder="R√©p√©tez votre mot de passe"
              [disabled]="loading"
              class="w-full pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1D7874] focus:border-[#1D7874] transition-all duration-200 text-base placeholder-gray-400"
            />
            <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600">
              <i class="fas fa-eye-slash text-sm"></i>
            </button>
          </div>
          <!-- Indicateur force mot de passe -->
          <div class="mt-2 h-2 bg-gray-200 rounded-full overflow-hidden">
            <div class="h-full bg-green-400 rounded-full transition-all duration-300"
                 [style.width.%]="passconfirm.length *10"></div>
          </div>
        </div>

        <!-- R√¥le -->
        <div>
          <label for="role" class="block text-sm font-medium text-gray-700 mb-2">
            Type de compte
          </label>
          <select
            id="role"
            name="role"
            [(ngModel)]="newUser.role"
            [disabled]="loading"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1D7874] focus:border-[#1D7874] transition-all duration-200 text-base"
          >
            <option value="USER">üõí Acheteur (Client)</option>
            <option value="SHOP">üè™ Propri√©taire de boutique</option>
          </select>
        </div>

        <!-- Boutons Amazon -->
        <div class="flex flex-col sm:flex-row gap-4 pt-4">
          <a routerLink="/login"
             class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-4 px-6 rounded-lg font-semibold text-center transition-all duration-200 shadow-sm hover:shadow-md border border-gray-300">
            ‚Üê Se connecter
          </a>
          <button
            type="submit"
            [disabled]="loading"

            class="flex-1  bg-[#1D7874]  hover:bg-[#114643] text-white py-2 px-8 rounded-lg font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center space-x-2"
            ><span *ngIf="!loading">Enregistrer</span>
            <span *ngIf="loading" class="flex items-center justify-center gap-2">
              <span class=" inline-block w-4 h-4 rounded-full border-2 border-white border-t-transparent animate-spin"></span>
            </span>

          </button>
        </div>


      <div class="mt-8 pt-6 border-t border-gray-200 text-center text-sm">
        <p class="text-gray-600 mb-4">
          En cr√©ant un compte, vous acceptez nos
          <a href="#" class="text-orange-600 hover:underline font-medium">Conditions d'utilisation</a> et
          <a href="#" class="text-orange-600 hover:underline font-medium ml-1">Confidentialit√©</a>
        </p>
        <p class="text-xs text-gray-500">
          ¬© 2026 SmartShop. Tous droits r√©serv√©s.
        </p>
      </div>
